<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>数列极限案例探索实验室</title>
    
    <!-- 页面专用样式 -->
    <link rel="stylesheet" href="assets/lab2-2.css">
    
    <!-- Material Symbols 图标字体 -->
    <link rel="stylesheet" href="../common-assets/css/lab1-material-symbols.css">
    
    <!-- MathJax 配置 -->
    <script src="../common-assets/js/mathjax-config.js"></script>
    <script defer src="../common-assets/js/mathjax-3.2.2-tex-svg.min.js"></script>
</head>

<body>
    <!-- 返回主页浮动面板 -->
    <div class="return-home-panel">
        <button class="return-toggle" onclick="toggleReturnLinks()">
            <span class="material-symbols-outlined">home</span>
        </button>
        <div class="return-links">
            <a class="return-link" href="index.html">
                <span class="material-symbols-outlined" style="font-size: 16px;">arrow_back</span> 返回目录
            </a>
            <a class="return-link" href="../index.html">
                <span class="material-symbols-outlined" style="font-size: 16px;">home</span> 返回主站
            </a>
        </div>
    </div>

    <div class="container">
        <header class="header">
            <h1>数列极限案例探索实验室</h1>
        </header>
        
        <div class="main">
            <!-- 侧边栏 -->
            <nav class="sidebar">
                <button class="nav-btn active" onclick="switchPanel('overview')">案例总览</button>
                <button class="nav-btn" onclick="switchPanel('analysis')">深度分析</button>
                <button class="nav-btn" onclick="switchPanel('comparison')">对比研究</button>
            </nav>

            <!-- 案例总览页面 -->
            <div class="content active" id="overview">
                <div class="column">
                    <div class="card">
                        <h3>选择案例</h3>
                        <div class="case-selector">
                            <button class="case-btn active" onclick="selectCase(1)">
                                案例一<br>$x_n = n$
                            </button>
                            <button class="case-btn" onclick="selectCase(2)">
                                案例二<br>$x_n = \dfrac{n}{n+1}$
                            </button>
                            <button class="case-btn" onclick="selectCase(3)">
                                案例三<br>$\dfrac{1}{2}[1+(-1)^n]$
                            </button>
                            <button class="case-btn" onclick="selectCase(4)">
                                案例四<br>$x_n = \dfrac{1}{(-3)^n}$
                            </button>
                        </div>
                        <div class="formula-box" id="caseFormula">$x_n = n$</div>
                        <div class="steps" id="caseDescription">当 $n$ 无限增大时，$x_n$ 逐渐增大，没有一个固定的值。</div>
                    </div>
                    <div class="card">
                        <h3>数列前项</h3>
                        <div class="slider-group">
                            <label>显示项数</label>
                            <input class="slider" id="termSlider" max="20" min="5" step="1" type="range" value="10">
                            <span class="slider-value" id="termValue">10</span>
                        </div>
                        <div class="sequence-display" id="sequenceTerms"></div>
                        <div class="conclusion-box not-exists" id="conclusion">极限不存在</div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <h3>图像可视化</h3>
                        <div class="canvas-container">
                            <canvas height="350" id="caseGraph" width="600"></canvas>
                        </div>
                        <div class="animation-controls">
                            <button class="btn" onclick="animateSequence()">动画演示</button>
                            <button class="btn" onclick="resetGraph()">重置</button>
                        </div>
                    </div>
                    <div class="card">
                        <h3>数学解释</h3>
                        <div class="info-box" id="mathExplanation">数列的项依次为：$1, 2, 3, 4, 5, \ldots, n, \ldots$<br>显然，随着 $n$ 的增加，数列中的每一项越来越大。</div>
                        <div class="result danger" id="limitResult">极限不存在</div>
                    </div>
                </div>
            </div>

            <!-- 深度分析页面 -->
            <div class="content" id="analysis">
                <div class="column">
                    <div class="card">
                        <h3>案例一：无界增长</h3>
                        <div class="formula-box">$x_n = n$</div>
                        <div class="steps">
                            <strong>特征分析：</strong><br>
                            • 单调递增<br>
                            • 无上界<br>
                            • 发散数列<br>
                            • $\displaystyle\lim_{n \to \infty} n = +\infty$
                        </div>
                        <div class="canvas-container" style="min-height: 150px;">
                            <canvas height="150" id="case1Detail" width="350"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3>案例二：收敛到1</h3>
                        <div class="formula-box">$x_n = \dfrac{n}{n+1}$</div>
                        <div class="steps">
                            <strong>特征分析：</strong><br>
                            • 单调递增<br>
                            • 有上界（上界为1）<br>
                            • 收敛数列<br>
                            • $\displaystyle\lim_{n \to \infty} \dfrac{n}{n+1} = 1$
                        </div>
                        <div class="canvas-container" style="min-height: 150px;">
                            <canvas height="150" id="case2Detail" width="350"></canvas>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <h3>案例三：振荡数列</h3>
                        <div class="formula-box">$x_n = \dfrac{1}{2}[1+(-1)^n]$</div>
                        <div class="steps">
                            <strong>特征分析：</strong><br>
                            • 周期振荡<br>
                            • 在0和1之间跳动<br>
                            • 无极限<br>
                            • 子序列有不同极限
                        </div>
                        <div class="canvas-container" style="min-height: 150px;">
                            <canvas height="150" id="case3Detail" width="350"></canvas>
                        </div>
                    </div>
                    <div class="card">
                        <h3>案例四：交替变化趋向0</h3>
                        <div class="formula-box">$x_n = \dfrac{1}{(-3)^n}$</div>
                        <div class="steps">
                            <strong>特征分析：</strong><br>
                            • 正负交替变化<br>
                            • 数值越来越小<br>
                            • 最终趋向于0<br>
                            • 例如：$-0.33, 0.11, -0.037, 0.012, \ldots$
                        </div>
                        <div class="canvas-container" style="min-height: 150px;">
                            <canvas height="150" id="case4Detail" width="350"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 对比研究页面 -->
            <div class="content" id="comparison">
                <div class="column">
                    <div class="card">
                        <h3>综合对比图</h3>
                        <div class="canvas-container">
                            <canvas height="400" id="comparisonGraph" width="600"></canvas>
                        </div>
                        <div class="slider-group">
                            <label>显示范围</label>
                            <input class="slider" id="rangeSlider" max="50" min="10" step="5" type="range" value="20">
                            <span class="slider-value" id="rangeValue">n=20</span>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="card">
                        <h3>收敛性分类</h3>
                        <div class="result success">
                            <strong>收敛数列</strong>
                        </div>
                        <div class="info-box">
                            案例二：$x_n = \dfrac{n}{n+1} \to 1$<br>
                            案例四：$x_n = \dfrac{1}{(-3)^n} \to 0$
                        </div>
                        <div class="result danger">
                            <strong>发散数列</strong>
                        </div>
                        <div class="info-box">
                            案例一：$x_n = n \to +\infty$<br>
                            案例三：$x_n = \dfrac{1}{2}[1+(-1)^n]$ 振荡
                        </div>
                    </div>
                    <div class="card">
                        <h3>极限判定准则</h3>
                        <div class="formula-box">判断数列极限的简单方法</div>
                        <div class="steps">
                            <strong>判断步骤：</strong><br>
                            1. 观察数列变化趋势（越来越大、越来越小、还是跳动）<br>
                            2. 看数列是否有固定的"目标"（极限值）<br>
                            3. 检查数列是否越来越接近某个数<br>
                            4. 如果接近，那就是有极限；如果越来越大或跳动，就是没有极限
                        </div>
                        <div class="info-box">
                            <strong>简单记忆：</strong><br>
                            有极限 = 数列有"家"可回<br>
                            无极限 = 数列"流浪"或"跳动"
                        </div>
                    </div>
                    <div class="card">
                        <h3>数值验证</h3>
                        <div class="input-group">
                            <label>输入 $n$ 值</label>
                            <input id="nInput" min="1" type="number" value="100">
                        </div>
                        <button class="btn" onclick="calculateValues()">计算各案例值</button>
                        <div class="info-box" id="calculatedValues" style="margin-top: 12px;">
                            等待计算...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页面专用脚本 -->
    <script src="assets/lab2-2.js"></script>
</body>
</html>
