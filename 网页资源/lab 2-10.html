<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>连续与间断：函数分类大作战</title>
    <!-- 本地化资源 -->
    <script src="../common-assets/js/tailwind.min.js"></script>
    <link rel="stylesheet" href="../common-assets/css/lab1-material-symbols.css">
    <script src="../common-assets/js/mathjax-config.js"></script>
    <script defer src="../common-assets/js/mathjax-3.2.2-tex-svg.min.js"></script>
    <link rel="stylesheet" href="assets/lab2-10.css">
</head>
<body class="text-gray-800 h-screen flex flex-col select-none bg-white">
    <!-- Header / HUD -->
    <header class="flex-none p-4 flex justify-between items-center glass-panel m-4 rounded-xl z-20">
        <div class="flex items-center gap-4">
            <div class="p-2 bg-indigo-600 rounded-lg">
                <span class="material-symbols-outlined text-2xl text-white">rocket_launch</span>
            </div>
            <div>
                <h1 class="text-xl font-bold tracking-wider text-gray-800">连续与间断</h1>
                <p class="text-xs text-gray-500">函数分类大作战</p>
            </div>
        </div>
        <!-- Stats -->
        <div class="flex gap-6 text-center">
            <div>
                <div class="text-xs text-gray-500 uppercase">得分</div>
                <div class="text-2xl font-bold text-amber-500" id="score">0</div>
            </div>
            <div>
                <div class="text-xs text-gray-500 uppercase">连击</div>
                <div class="text-2xl font-bold text-blue-500" id="combo">0</div>
            </div>
            <div>
                <div class="text-xs text-gray-500 uppercase">生命</div>
                <div class="flex text-red-500 text-xl" id="lives">
                    <span class="material-symbols-outlined filled">favorite</span>
                    <span class="material-symbols-outlined filled">favorite</span>
                    <span class="material-symbols-outlined filled">favorite</span>
                </div>
            </div>
        </div>
        <!-- Controls -->
        <div>
            <button class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-bold transition-colors shadow-lg" id="startBtn" onclick="game.togglePause()">开始游戏</button>
        </div>
    </header>

    <!-- Game Area -->
    <main class="flex-1 relative mx-4 mb-4 rounded-xl border border-gray-200 overflow-hidden bg-gray-50" id="gameArea">
        <!-- Cards will be injected here -->
        
        <!-- Game Over Overlay -->
        <div class="absolute inset-0 z-50 flex flex-col items-center justify-center hidden" id="gameOverScreen">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">游戏结束</h2>
            <p class="text-xl text-gray-600 mb-8">最终得分: <span class="text-amber-500" id="finalScore">0</span></p>
            <button class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold text-lg transition-transform hover:scale-105" onclick="game.restart()">
                再次挑战
            </button>
        </div>
        
        <!-- Tutorial Overlay -->
        <div class="absolute inset-0 z-40 flex flex-col items-center justify-center text-center p-8" id="tutorialScreen">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">怎么玩？</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-lg leading-relaxed">
                观察下落的函数图像，判断其在特定点（通常是 $x=0$ 或中间点）的性质。<br><br>
                点击下方的<span class="text-indigo-600 font-bold">分类桶</span>来收集对应的函数卡片。
            </p>
            <button class="bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-3 rounded-xl font-bold text-lg transition-transform hover:scale-105" onclick="game.start()">
                我准备好了！
            </button>
        </div>
    </main>

    <!-- Buckets -->
    <div class="flex-none h-48 mx-4 mb-4 grid grid-cols-4 gap-4 z-10">
        <!-- Bucket 1: Continuous -->
        <div class="bucket glass-panel rounded-xl flex flex-col items-center justify-end p-4 cursor-pointer relative overflow-hidden group border-b-4 border-emerald-500" data-type="continuous" onclick="game.triggerBucket('continuous')">
            <div class="absolute inset-0 bg-emerald-500/5 group-hover:bg-emerald-500/10 transition-colors"></div>
            <div class="mb-2 p-3 bg-emerald-100 rounded-full">
                <span class="material-symbols-outlined text-3xl text-emerald-600">gesture</span>
            </div>
            <h3 class="text-lg font-bold text-emerald-700">连续函数</h3>
            <p class="text-xs text-gray-500 mt-1">没有断点</p>
            <div class="absolute bottom-0 w-full h-1 bg-emerald-500"></div>
        </div>
        
        <!-- Bucket 2: Removable -->
        <div class="bucket glass-panel rounded-xl flex flex-col items-center justify-end p-4 cursor-pointer relative overflow-hidden group border-b-4 border-blue-500" data-type="removable" onclick="game.triggerBucket('removable')">
            <div class="absolute inset-0 bg-blue-500/5 group-hover:bg-blue-500/10 transition-colors"></div>
            <div class="mb-2 p-3 bg-blue-100 rounded-full">
                <span class="material-symbols-outlined text-3xl text-blue-600">radio_button_unchecked</span>
            </div>
            <h3 class="text-lg font-bold text-blue-700">可去间断</h3>
            <p class="text-xs text-gray-500 mt-1">左右极限存在且相等</p>
            <div class="absolute bottom-0 w-full h-1 bg-blue-500"></div>
        </div>
        
        <!-- Bucket 3: Jump -->
        <div class="bucket glass-panel rounded-xl flex flex-col items-center justify-end p-4 cursor-pointer relative overflow-hidden group border-b-4 border-amber-500" data-type="jump" onclick="game.triggerBucket('jump')">
            <div class="absolute inset-0 bg-amber-500/5 group-hover:bg-amber-500/10 transition-colors"></div>
            <div class="mb-2 p-3 bg-amber-100 rounded-full">
                <span class="material-symbols-outlined text-3xl text-amber-600">call_split</span>
            </div>
            <h3 class="text-lg font-bold text-amber-700">跳跃间断</h3>
            <p class="text-xs text-gray-500 mt-1">左右极限存在但不相等</p>
            <div class="absolute bottom-0 w-full h-1 bg-amber-500"></div>
        </div>
        
        <!-- Bucket 4: Infinite -->
        <div class="bucket glass-panel rounded-xl flex flex-col items-center justify-end p-4 cursor-pointer relative overflow-hidden group border-b-4 border-red-500" data-type="infinite" onclick="game.triggerBucket('infinite')">
            <div class="absolute inset-0 bg-red-500/5 group-hover:bg-red-500/10 transition-colors"></div>
            <div class="mb-2 p-3 bg-red-100 rounded-full">
                <span class="material-symbols-outlined text-3xl text-red-600">all_inclusive</span>
            </div>
            <h3 class="text-lg font-bold text-red-700">无穷间断</h3>
            <p class="text-xs text-gray-500 mt-1">极限为无穷大</p>
            <div class="absolute bottom-0 w-full h-1 bg-red-500"></div>
        </div>
    </div>

    <!-- 返回首页面板 -->
    <div class="return-home-panel" id="returnHomePanel">
        <a href="../index.html" class="return-home-btn">
            <span class="material-symbols-outlined">home</span>
            返回首页
        </a>
    </div>

    <script src="assets/lab2-10.js"></script>
</body>
</html>
