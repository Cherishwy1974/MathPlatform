<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>函数极限与自变量变化实验室</title>
    
    <!-- 页面专用样式 -->
    <link rel="stylesheet" href="assets/lab2-3.css">
    
    <!-- Material Symbols 图标字体 -->
    <link rel="stylesheet" href="../common-assets/css/lab1-material-symbols.css">
    
    <!-- MathJax 配置 -->
    <script src="../common-assets/js/mathjax-config.js"></script>
    <script defer src="../common-assets/js/mathjax-3.2.2-tex-svg.min.js"></script>
</head>

<body>
    <!-- 返回主页浮动面板 -->
    <div class="return-home-panel">
        <button class="return-toggle" onclick="toggleReturnLinks()">
            <span class="material-symbols-outlined">home</span>
        </button>
        <div class="return-links">
            <a class="return-link" href="index.html">
                <span class="material-symbols-outlined" style="font-size: 16px;">arrow_back</span> 返回目录
            </a>
            <a class="return-link" href="../index.html">
                <span class="material-symbols-outlined" style="font-size: 16px;">home</span> 返回主站
            </a>
        </div>
    </div>

    <div class="container">
    <header class="header">
    <h1>函数极限与自变量变化实验室</h1>
    </header>
        
    <div class="main">
    <!-- 侧边栏 -->
    <nav class="sidebar">
    <button class="nav-btn active" onclick="switchPanel('movement')">自变量移动</button>
    <button class="nav-btn" onclick="switchPanel('approach')">趋近方式</button>
    <button class="nav-btn" onclick="switchPanel('types')">极限类型</button>
    </nav>

    <!-- 自变量移动页面 -->
    <div class="content active" id="movement">
    <div class="column">
    <div class="card">
    <h3>数列与函数的关系</h3>
    <div class="formula-box">
                            数列：$x_n = f(n)$，$n$ 是正整数<br>
                            函数：$y = f(x)$，$x$ 是实数
                            </div>
    <div class="steps">
                                数列是特殊的函数（只在整数点有值）<br>
                            • 数列：只能取 $n = 1, 2, 3, \ldots$<br>
                            • 函数：$x$ 可以取任意实数<br>
                                • 研究重点：当变量越来越大时的趋势
                            </div>
    </div>
    <div class="card">
    <h3>x在数轴上的移动</h3>
    <div class="number-line" id="numberLine">
    <canvas height="80" id="numberLineCanvas" width="400"></canvas>
    <div class="moving-point" id="movingPoint"></div>
    </div>
    <div class="approach-buttons">
    <button class="approach-btn active" onclick="setMovement('right')">x → a⁺</button>
    <button class="approach-btn" onclick="setMovement('left')">x → a⁻</button>
    <button class="approach-btn" onclick="setMovement('both')">x → a</button>
    <button class="approach-btn" onclick="setMovement('infinity')">x → +∞</button>
    <button class="approach-btn" onclick="setMovement('negInfinity')">x → -∞</button>
    <button class="approach-btn" onclick="setMovement('oscillate')">振荡</button>
    </div>
                        <div class="result" id="movementDesc">x 从右侧趋近于 a</div>
    </div>
    </div>
    <div class="column">
    <div class="card">
    <h3>函数图像演示</h3>
    <div class="canvas-container">
    <canvas height="350" id="movementGraph" width="600"></canvas>
    </div>
    <div class="slider-group">
    <label>速度</label>
    <input class="slider" id="speedSlider" max="10" min="1" step="1" type="range" value="5">
    <span class="slider-value" id="speedValue">5</span>
    </div>
    <div class="btn-row">
    <button class="btn" onclick="startAnimation()">开始动画</button>
    <button class="btn" onclick="pauseAnimation()">暂停/继续</button>
    </div>
    </div>
    <div class="card">
    <h3>当前状态</h3>
    <div class="info-box" id="currentStatus">
                            $x = $ <span id="xValue">2.00</span><br>
                            $f(x) = $ <span id="fxValue">2.30</span>
    </div>
    </div>
    </div>
    </div>

    <!-- 趋近方式页面 -->
    <div class="content" id="approach">
    <div class="column">
    <div class="card">
    <h3>选择函数</h3>
    <div class="function-selector">
                            <button class="func-btn active" onclick="selectFunction(1)">$f(x) = \dfrac{1}{x}$</button>
                            <button class="func-btn" onclick="selectFunction(2)">$f(x) = \dfrac{x^2-1}{x-1}$</button>
                            <button class="func-btn" onclick="selectFunction(3)">$f(x) = \sin\left(\dfrac{1}{x}\right)$</button>
                            <button class="func-btn" onclick="selectFunction(4)">$f(x) = e^{-x^2}$</button>
    </div>
                        <div class="formula-box" id="selectedFunc">$f(x) = \dfrac{1}{x}$</div>
    </div>
    <div class="card">
    <h3>趋近值表</h3>
    <table class="limit-table">
    <thead>
    <tr>
                                    <th>$x$</th>
                                    <th>$f(x)$</th>
    <th>趋势</th>
    </tr>
    </thead>
    <tbody id="approachTable">
    <tr><td>0.1</td><td>10</td><td>↑</td></tr>
    <tr><td>0.01</td><td>100</td><td>↑</td></tr>
    <tr><td>0.001</td><td>1000</td><td>↑</td></tr>
    </tbody>
    </table>
    <div class="result" id="limitConclusion">
                            <span class="limit-indicator limit-not-exists">极限不存在（趋向无穷）</span>
    </div>
    </div>
    </div>
    <div class="column">
    <div class="card">
    <h3>左右极限对比</h3>
    <div class="canvas-container">
    <canvas height="300" id="approachGraph" width="600"></canvas>
    </div>
    <div class="info-box">
                            <strong>左极限：</strong> $\displaystyle\lim_{x \to a^-} f(x) = $ <span id="leftLimit">-∞</span><br>
                            <strong>右极限：</strong> $\displaystyle\lim_{x \to a^+} f(x) = $ <span id="rightLimit">+∞</span>
    </div>
    </div>
    <div class="card">
    <h3>极限存在条件</h3>
    <div class="formula-box">
                            $\displaystyle\lim_{x \to a} f(x) = L$ 存在 $\Leftrightarrow$<br>
                            $\displaystyle\lim_{x \to a^-} f(x) = \displaystyle\lim_{x \to a^+} f(x) = L$
                            </div>
    <div class="steps">
    <strong>判定步骤：</strong><br>
                            1. 计算左极限 $\displaystyle\lim_{x \to a^-} f(x)$<br>
                            2. 计算右极限 $\displaystyle\lim_{x \to a^+} f(x)$<br>
                                3. 比较左右极限是否相等且有限
                            </div>
    </div>
    </div>
    </div>

    <!-- 极限类型页面 -->
    <div class="content" id="types">
    <div class="column">
    <div class="card">
    <h3>有限极限</h3>
                        <div class="formula-box">$\displaystyle\lim_{x \to a} f(x) = L$（$L$为有限值）</div>
    <div class="canvas-container" style="min-height: 150px;">
    <canvas height="150" id="finiteCanvas" width="350"></canvas>
    </div>
                        <div class="info-box">例：$\displaystyle\lim_{x \to 2} x^2 = 4$</div>
    </div>
    <div class="card">
    <h3>无穷极限</h3>
                        <div class="formula-box">$\displaystyle\lim_{x \to a} f(x) = \pm\infty$</div>
    <div class="canvas-container" style="min-height: 150px;">
    <canvas height="150" id="infiniteCanvas" width="350"></canvas>
    </div>
                        <div class="info-box">例：$\displaystyle\lim_{x \to 0^+} \dfrac{1}{x} = +\infty$</div>
    </div>
    </div>
    <div class="column">
    <div class="card">
    <h3>极限不存在</h3>
                        <div class="formula-box">左右极限不相等或振荡</div>
    <div class="canvas-container" style="min-height: 150px;">
    <canvas height="150" id="notExistCanvas" width="350"></canvas>
    </div>
                        <div class="info-box">例：$\displaystyle\lim_{x \to 0} \sin\left(\dfrac{1}{x}\right)$ 不存在</div>
    </div>
    <div class="card">
    <h3>特殊极限</h3>
                        <div class="formula-box">重要极限公式</div>
    <div class="steps">
                            1. $\displaystyle\lim_{x \to 0} \dfrac{\sin x}{x} = 1$<br>
                            2. $\displaystyle\lim_{x \to \infty} \left(1 + \dfrac{1}{x}\right)^x = e$<br>
                            3. $\displaystyle\lim_{x \to 0} \dfrac{e^x - 1}{x} = 1$<br>
                            4. $\displaystyle\lim_{x \to 0} \dfrac{\ln(1+x)}{x} = 1$
                            </div>
    </div>
    <div class="card">
    <h3>计算练习</h3>
    <div class="input-group">
                            <label>输入 $x$ 值</label>
    <input id="xInput" step="0.01" type="number" value="0.1">
    </div>
    <div class="input-group">
    <label>选择函数</label>
    <select id="funcSelect">
    <option value="1/x">1/x</option>
    <option value="sin(x)/x">sin(x)/x</option>
    <option value="(x^2-1)/(x-1)">(x²-1)/(x-1)</option>
    <option value="e^x">e^x</option>
    </select>
    </div>
    <button class="btn" onclick="calculateLimit()">计算函数值</button>
                        <div class="result" id="calcResult">f(0.1) = 10</div>
    </div>
    </div>
    </div>
    </div>
    </div>

    <!-- 页面专用脚本 -->
    <script src="assets/lab2-3.js"></script>
</body>
</html>
